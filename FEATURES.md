# 功能清单

## ✅ 已完成功能

### 1. 管理后台 CRM 系统 (`/admin`)
- ✅ 客户管理（查看所有客户）
- ✅ Excel 上传功能（批量导入客户资料）
- ✅ 用户管理（查看所有用户）
- ✅ 注册申请审核（业务员注册申请）
- ✅ 客户申请审核（业务员申请客户的审批）

### 2. 业务员面板 (`/dashboard`)
- ✅ 任务列表（查看分配的任务）
- ✅ 任务完成功能（完成任务并自动创建跟进任务）
- ✅ 客户列表（查看可申请的客户）
- ✅ 客户申请功能（申请未分配的客户）

### 3. 数据库架构
- ✅ Users 表（用户和角色管理）
- ✅ Clients 表（客户资料）
- ✅ Tasks 表（任务系统）
- ✅ Client Requests 表（客户申请）
- ✅ User Applications 表（注册申请）

### 4. API 路由
- ✅ `/api/clients` - 客户管理
- ✅ `/api/clients/upload` - Excel 上传
- ✅ `/api/clients/[id]/assign` - 分配客户
- ✅ `/api/users` - 用户管理
- ✅ `/api/users/applications` - 注册申请
- ✅ `/api/users/applications/[id]/review` - 审核注册申请
- ✅ `/api/client-requests` - 客户申请
- ✅ `/api/client-requests/[id]/review` - 审核客户申请
- ✅ `/api/tasks` - 任务管理
- ✅ `/api/tasks/[id]/complete` - 完成任务

## 🔄 待实现功能

### 1. 身份验证系统
- ⏳ Supabase Auth 集成
- ⏳ 用户登录/注册
- ⏳ 角色验证中间件
- ⏳ 会话管理

### 2. 高级功能
- ⏳ 逾期排行榜（Manager Dashboard）
- ⏳ 活动时间线
- ⏳ 客户搜索和筛选
- ⏳ 批量操作（批量分配客户）
- ⏳ 导出功能（导出客户列表、任务列表）

### 3. UI/UX 改进
- ⏳ 响应式设计优化
- ⏳ 加载状态优化
- ⏳ 错误处理改进
- ⏳ 数据可视化（图表）

## 📋 Excel 上传格式说明

Excel 文件应包含以下列（支持中英文列名）：

### 支持的列名
- **姓名/客户名称**: `姓名`, `name`, `Name`, `客戶名稱`, `客戶`
- **电话**: `電話`, `phone`, `Phone`, `聯絡電話`
- **标签**: `標籤`, `tags`, `Tags`, `分類`
- **备注**: `備註`, `notes`, `Notes`, `說明`

### 标签格式
支持以下标签格式：
- `A-Hot`, `A`, `HOT`, `熱` → 转换为 `A-Hot`
- `B-Warm`, `B`, `WARM`, `溫` → 转换为 `B-Warm`
- `C-Cold`, `C`, `COLD`, `冷` → 转换为 `C-Cold`
- `D-Invalid`, `D`, `INVALID`, `無效` → 转换为 `D-Invalid`

多个标签用逗号分隔，例如：`A-Hot, B-Warm` 或 `熱, 溫`

### 示例 Excel 文件
```
姓名      電話        標籤          備註
王小明    0912345678  A-Hot        重要客戶
李小華    0923456789  B-Warm       一般客戶
張三      0934567890  C-Cold       長期未聯繫
```

## 🔑 使用流程

### 管理员流程
1. 访问 `/admin` 进入管理后台
2. 在"客户管理"标签页上传 Excel 文件批量导入客户
3. 在"注册申请"标签页审核业务员注册申请
4. 在"客户申请"标签页审核业务员对客户的申请

### 业务员流程
1. 访问 `/dashboard` 进入业务员面板
2. 点击"客户列表"查看可申请的客户
3. 点击客户卡片申请客户
4. 在任务列表中查看分配的任务
5. 完成任务（会自动创建跟进任务）

